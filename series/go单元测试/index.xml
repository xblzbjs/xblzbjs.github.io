<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Goå•å…ƒæµ‹è¯• on è¡Œç™¾é‡Œè€…åŠä¹å</title>
    <link>https://xblzbjs.cn/series/go%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</link>
    <description>Recent content in Goå•å…ƒæµ‹è¯• on è¡Œç™¾é‡Œè€…åŠä¹å</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;xblzbjs&lt;/a&gt;</copyright>
    <lastBuildDate>Wed, 24 Mar 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://xblzbjs.cn/series/go%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Goï½œtesting.M</title>
      <link>https://xblzbjs.cn/article/2021/03/gotesting.m/</link>
      <pubDate>Wed, 24 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/article/2021/03/gotesting.m/</guid>
      <description>å› ä½•è€Œç”Ÿâ“ æœ‰æ—¶æµ‹è¯•ç¨‹åºéœ€è¦åœ¨æµ‹è¯•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è®¾ç½®æˆ–æ‹†å¸ã€‚æœ‰æ—¶æµ‹è¯•è¿˜éœ€è¦æ§åˆ¶å“ªäº›ä»£ç åœ¨ä¸»çº¿ç¨‹ä¸Šè¿è¡Œã€‚ä¸ºäº†æ”¯æŒè¿™äº›å’Œå…¶ä»–æƒ…å†µ, testing åŒ…æä¾›äº† TestMain å‡½æ•° :
func TestMain(m *testing.M) æœ‰ä»€ä¹ˆä½œç”¨ğŸ¤” å¦‚æœæµ‹è¯•æ–‡ä»¶ä¸­åŒ…å«è¯¥å‡½æ•°ï¼Œé‚£ä¹ˆç”Ÿæˆçš„æµ‹è¯•å°†è°ƒç”¨ TestMain(m)ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿è¡Œæµ‹è¯•ã€‚TestMain è¿è¡Œåœ¨ä¸» goroutine ä¸­ , å¯ä»¥åœ¨è°ƒç”¨ m.Run å‰ååšä»»ä½•è®¾ç½®å’Œæ‹†å¸ã€‚m. Runå°†è¿”å›å¯èƒ½ä¼ é€’ç»™çš„é€€å‡ºä»£ç æ“ä½œç³»ç»Ÿé€€å‡º. å¦‚æœTestMainè¿”å›ï¼Œæµ‹è¯•åŒ…è£…å™¨å°†m.Runçš„ç»“æœä¼ é€’ç»™æ“ä½œç³»ç»Ÿé€€å‡ºå®ƒè‡ªå·±
è°ƒç”¨TestMainæ—¶ï¼Œflag.è§£æå°šæœªè¿è¡Œã€‚å¦‚æœTestMainä¾èµ–äºå‘½ä»¤è¡Œæ ‡å¿—ï¼ŒåŒ…æ‹¬æµ‹è¯•åŒ…çš„æ ‡å¿—ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥è°ƒç”¨flag.è§£ææ˜ç¡®åœ°ã€‚å‘½ä»¤è¡Œæ ‡å¿—æ€»æ˜¯ç”±è¿è¡Œçš„æ—¶é—´æµ‹è¯•æˆ–åŸºå‡†å‡½æ•°æ¥è§£æ
å› æ­¤ï¼Œå½“æ‚¨éœ€è¦ä¸ºæµ‹è¯•æ‰§è¡Œä¸€äº›å…¨å±€è®¾ç½®/åˆ é™¤æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¾ˆæ–¹ä¾¿
ä¸¾ä¸ªğŸŒ° ç®€å• // file name: demo_test.go package tests import ( &amp;#34;testing&amp;#34; &amp;#34;os&amp;#34; ) func TestMain(m *testing.M) { log.Println(&amp;#34;Do stuff BEFORE the tests!&amp;#34;) exitVal := m.Run() log.Println(&amp;#34;Do stuff AFTER the tests!&amp;#34;) os.Exit(exitVal) } func TestA(t *testing.T) { log.Println(&amp;#34;TestA running&amp;#34;) } func TestB(t *testing.T) { log.Println(&amp;#34;TestB running&amp;#34;) } è¾“å‡º $ go test -v demo_test.</description>
    </item>
    
    <item>
      <title>Goï½œtesting.T</title>
      <link>https://xblzbjs.cn/article/2021/03/gotesting.t/</link>
      <pubDate>Wed, 24 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/article/2021/03/gotesting.t/</guid>
      <description>å› ä½•è€Œç”Ÿâ“ æœ‰æ—¶æµ‹è¯•ç¨‹åºéœ€è¦åœ¨æµ‹è¯•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è®¾ç½®æˆ–æ‹†å¸ã€‚æœ‰æ—¶æµ‹è¯•è¿˜éœ€è¦æ§åˆ¶å“ªäº›ä»£ç åœ¨ä¸»çº¿ç¨‹ä¸Šè¿è¡Œã€‚ä¸ºäº†æ”¯æŒè¿™äº›å’Œå…¶ä»–æƒ…å†µ, testing åŒ…æä¾›äº† TestMain å‡½æ•° :
func TestMain(m *testing.M) æœ‰ä»€ä¹ˆä½œç”¨ğŸ¤” å¦‚æœæµ‹è¯•æ–‡ä»¶ä¸­åŒ…å«è¯¥å‡½æ•°ï¼Œé‚£ä¹ˆç”Ÿæˆçš„æµ‹è¯•å°†è°ƒç”¨ TestMain(m)ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿è¡Œæµ‹è¯•ã€‚TestMain è¿è¡Œåœ¨ä¸» goroutine ä¸­ , å¯ä»¥åœ¨è°ƒç”¨ m.Run å‰ååšä»»ä½•è®¾ç½®å’Œæ‹†å¸ã€‚m. Runå°†è¿”å›å¯èƒ½ä¼ é€’ç»™çš„é€€å‡ºä»£ç æ“ä½œç³»ç»Ÿé€€å‡º. å¦‚æœTestMainè¿”å›ï¼Œæµ‹è¯•åŒ…è£…å™¨å°†m.Runçš„ç»“æœä¼ é€’ç»™æ“ä½œç³»ç»Ÿé€€å‡ºå®ƒè‡ªå·±
è°ƒç”¨TestMainæ—¶ï¼Œflag.è§£æå°šæœªè¿è¡Œã€‚å¦‚æœTestMainä¾èµ–äºå‘½ä»¤è¡Œæ ‡å¿—ï¼ŒåŒ…æ‹¬æµ‹è¯•åŒ…çš„æ ‡å¿—ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥è°ƒç”¨flag.è§£ææ˜ç¡®åœ°ã€‚å‘½ä»¤è¡Œæ ‡å¿—æ€»æ˜¯ç”±è¿è¡Œçš„æ—¶é—´æµ‹è¯•æˆ–åŸºå‡†å‡½æ•°æ¥è§£æ
å› æ­¤ï¼Œå½“æ‚¨éœ€è¦ä¸ºæµ‹è¯•æ‰§è¡Œä¸€äº›å…¨å±€è®¾ç½®/åˆ é™¤æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¾ˆæ–¹ä¾¿
ä¸¾ä¸ªğŸŒ° ç®€å• // file name: demo_test.go package tests import ( &amp;#34;testing&amp;#34; &amp;#34;os&amp;#34; ) func TestMain(m *testing.M) { log.Println(&amp;#34;Do stuff BEFORE the tests!&amp;#34;) exitVal := m.Run() log.Println(&amp;#34;Do stuff AFTER the tests!&amp;#34;) os.Exit(exitVal) } func TestA(t *testing.T) { log.Println(&amp;#34;TestA running&amp;#34;) } func TestB(t *testing.T) { log.Println(&amp;#34;TestB running&amp;#34;) } è¾“å‡º $ go test -v demo_test.</description>
    </item>
    
  </channel>
</rss>
