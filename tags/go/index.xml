<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Go on xblzbjs</title>
    <link>https://xblzbjs.cn/tags/go/</link>
    <description>Recent content in Go on xblzbjs</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Tue, 25 May 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://xblzbjs.cn/tags/go/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Go Tips | Map</title>
      <link>https://xblzbjs.cn/posts/go-tips/go-tips-map/</link>
      <pubDate>Tue, 25 May 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/posts/go-tips/go-tips-map/</guid>
      <description>Tip1 åˆå§‹åŒ–æ–¹å¼    func TestTestInitMap(t *testing.T) { // æ–¹æ³•ä¸€ï¼ˆå­—é¢é‡åˆå§‹åŒ–ï¼‰ 	m1 := map[string]int{&amp;#34;Go&amp;#34;: 1, &amp;#34;Java&amp;#34;: 2, &amp;#34;Python&amp;#34;: 3} m2 := map[int]int{} // æ–¹æ³•äºŒï¼ˆä½¿ç”¨å†…ç½®å‡½æ•°makeåˆå§‹åŒ–ï¼‰ 	m3 := make(map[int]int, 10) // ä½¿ç”¨lenå‡½æ•°æ‰“å°mapçš„é•¿åº¦, ä¸èƒ½ç”¨capæ‰“å°å®¹é‡ 	t.Logf(&amp;#34;len m1=%d&amp;#34;, len(m1)) m2[4] = 16 t.Logf(&amp;#34;len m2=%d&amp;#34;, len(m2)) t.Logf(&amp;#34;len m3=%d&amp;#34;, len(m3)) } ä»¥ä¸Šä¸¤è€…åŒæ ·æ˜¯åˆå§‹åŒ–ä¸€ä¸ªMapï¼Œæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ
 æ–¹æ³•äºŒæå‰åˆ†é…äº†Mapçš„å®¹é‡ï¼Œå‡å°‘å†…å­˜åˆ†é…çš„æ¬¡æ•°ï¼Œç›¸æ¯”æ–¹æ³•ä¸€è€Œè¨€æ€§èƒ½æ›´å¥½ï¼Œä½†æ˜¯å¯æ‰©å±•æ€§æ›´å·®ã€‚  Tip2 å¢åˆ æŸ¥æ”¹ï¼ˆCreateã€Deleteã€Readã€Updateï¼‰    func TestMapCRUD(t *testing.T) { m := make(map[string]int, 10) m[&amp;#34;other&amp;#34;] = 0 // Create 	m[&amp;#34;go&amp;#34;] = 1 t.</description>
    </item>
    
    <item>
      <title>Go Tips | Test</title>
      <link>https://xblzbjs.cn/posts/go-tips/go-tips-test/</link>
      <pubDate>Tue, 25 May 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/posts/go-tips/go-tips-test/</guid>
      <description>å› ä½•è€Œç”Ÿâ“    æœ‰æ—¶æµ‹è¯•ç¨‹åºéœ€è¦åœ¨æµ‹è¯•ä¹‹å‰æˆ–ä¹‹åè¿›è¡Œé¢å¤–çš„è®¾ç½®æˆ–æ‹†å¸ã€‚æœ‰æ—¶æµ‹è¯•è¿˜éœ€è¦æ§åˆ¶å“ªäº›ä»£ç åœ¨ä¸»çº¿ç¨‹ä¸Šè¿è¡Œã€‚ä¸ºäº†æ”¯æŒè¿™äº›å’Œå…¶ä»–æƒ…å†µ, testing åŒ…æä¾›äº† TestMain å‡½æ•° :
func TestMain(m *testing.M) æœ‰ä»€ä¹ˆä½œç”¨ğŸ¤”    å¦‚æœæµ‹è¯•æ–‡ä»¶ä¸­åŒ…å«è¯¥å‡½æ•°ï¼Œé‚£ä¹ˆç”Ÿæˆçš„æµ‹è¯•å°†è°ƒç”¨ TestMain(m)ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿è¡Œæµ‹è¯•ã€‚TestMain è¿è¡Œåœ¨ä¸» goroutine ä¸­ , å¯ä»¥åœ¨è°ƒç”¨ m.Run å‰ååšä»»ä½•è®¾ç½®å’Œæ‹†å¸ã€‚m. Runå°†è¿”å›å¯èƒ½ä¼ é€’ç»™çš„é€€å‡ºä»£ç æ“ä½œç³»ç»Ÿé€€å‡º. å¦‚æœTestMainè¿”å›ï¼Œæµ‹è¯•åŒ…è£…å™¨å°†m.Runçš„ç»“æœä¼ é€’ç»™æ“ä½œç³»ç»Ÿé€€å‡ºå®ƒè‡ªå·±
è°ƒç”¨TestMainæ—¶ï¼Œflag.è§£æå°šæœªè¿è¡Œã€‚å¦‚æœTestMainä¾èµ–äºå‘½ä»¤è¡Œæ ‡å¿—ï¼ŒåŒ…æ‹¬æµ‹è¯•åŒ…çš„æ ‡å¿—ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥è°ƒç”¨flag.è§£ææ˜ç¡®åœ°ã€‚å‘½ä»¤è¡Œæ ‡å¿—æ€»æ˜¯ç”±è¿è¡Œçš„æ—¶é—´æµ‹è¯•æˆ–åŸºå‡†å‡½æ•°æ¥è§£æ
å› æ­¤ï¼Œå½“æ‚¨éœ€è¦ä¸ºæµ‹è¯•æ‰§è¡Œä¸€äº›å…¨å±€è®¾ç½®/åˆ é™¤æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¾ˆæ–¹ä¾¿
ä¸¾ä¸ªğŸŒ°    ç®€å•    // file name: demo_test.go package tests import ( &amp;#34;testing&amp;#34; &amp;#34;os&amp;#34; ) func TestMain(m *testing.M) { log.Println(&amp;#34;Do stuff BEFORE the tests!&amp;#34;) exitVal := m.Run() log.Println(&amp;#34;Do stuff AFTER the tests!&amp;#34;) os.Exit(exitVal) } func TestA(t *testing.</description>
    </item>
    
    <item>
      <title>Go &amp; Pythonï½œå•ä¾‹æ¨¡å¼</title>
      <link>https://xblzbjs.cn/posts/design-patterns/go-python%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Sun, 21 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/posts/design-patterns/go-python%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</guid>
      <description>ç®€ä»‹    å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰æ˜¯ä¸€ç§åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ã€‚å•ä¾‹æ¨¡å¼ä¿è¯äº†åœ¨ç¨‹åºçš„ä¸åŒä½ç½®éƒ½å¯ä»¥ä¸”ä»…å¯ä»¥å–åˆ°åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼šå¦‚æœå®ä¾‹ä¸å­˜åœ¨ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼›å¦‚æœå·²å­˜åœ¨å°±ä¼šè¿”å›è¿™ä¸ªå®ä¾‹ã€‚
ä¼˜ç‚¹     å‡å°‘å†…å­˜ä¸æ€§èƒ½å¼€é”€ é˜²æ­¢å¤šä¸ªå®ä¾‹äº§ç”Ÿå†²çª  ç¼ºç‚¹     åœ¨ä»£ç ä¸­éšè—äº†ç¨‹åºçš„ä¾èµ–é¡¹ï¼Œè€Œä¸æ˜¯é€šè¿‡æ¥å£å…¬å¼€å®ƒä»¬ã€‚ è¿åäº†å•ä¸€èŒè´£åŸåˆ™ è¯¥æ¨¡å¼åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œ é¿å…å¤šä¸ªçº¿ç¨‹å¤šæ¬¡åˆ›å»ºå•ä¾‹å¯¹è±¡ã€‚ å•ä¾‹çš„å®¢æˆ·ç«¯ä»£ç å•å…ƒæµ‹è¯•å¯èƒ½ä¼šæ¯”è¾ƒå›°éš¾ï¼Œ å› ä¸ºè®¸å¤šæµ‹è¯•æ¡†æ¶ä»¥åŸºäºç»§æ‰¿çš„æ–¹å¼åˆ›å»ºæ¨¡æ‹Ÿå¯¹è±¡ã€‚ ç”±äºå•ä¾‹ç±»çš„æ„é€ å‡½æ•°æ˜¯ç§æœ‰çš„ï¼Œ è€Œä¸”ç»å¤§éƒ¨åˆ†è¯­è¨€æ— æ³•é‡å†™é™æ€æ–¹æ³•ï¼Œ æ‰€ä»¥ä½ éœ€è¦æƒ³å‡ºä»”ç»†è€ƒè™‘æ¨¡æ‹Ÿå•ä¾‹çš„æ–¹æ³•ã€‚  é€‚åˆåœºæ™¯    å› ä¸ºå•ä¾‹æ¨¡å¼ä¿è¯äº†å®ä¾‹çš„å…¨å±€å”¯ä¸€æ€§ï¼Œè€Œä¸”åªè¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼Œæ‰€ä»¥æ¯”è¾ƒé€‚åˆå…¨å±€å…±äº«ä¸€ä¸ªå®ä¾‹ï¼Œä¸”åªéœ€è¦è¢«åˆå§‹åŒ–ä¸€æ¬¡çš„åœºæ™¯ã€‚ä¾‹å¦‚
 æ•°æ®åº“å®ä¾‹é…ç½® å…¨å±€é…ç½® å…¨å±€ä»»åŠ¡æ±   é¥¿æ±‰æ–¹å¼ä¸æ‡’æ±‰æ–¹å¼    å•ä¾‹æ¨¡å¼åˆåˆ†ä¸ºé¥¿æ±‰æ–¹å¼å’Œæ‡’æ±‰æ–¹å¼ã€‚é¥¿æ±‰æ–¹å¼æŒ‡å…¨å±€çš„å•ä¾‹å®ä¾‹åœ¨åŒ…è¢«åŠ è½½æ—¶åˆ›å»ºï¼Œè€Œæ‡’æ±‰æ–¹å¼æŒ‡å…¨å±€çš„å•ä¾‹å®ä¾‹åœ¨ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ—¶åˆ›å»ºã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘å°±æ¥åˆ†åˆ«ä»‹ç»ä¸‹è¿™ä¸¤ç§æ–¹å¼ã€‚
é¥¿æ±‰æ–¹å¼    é¥¿æ±‰æ–¹å¼æŒ‡å…¨å±€çš„å•ä¾‹å®ä¾‹åœ¨åŒ…è¢«åŠ è½½æ—¶åˆ›å»ºã€‚éœ€è¦æ³¨æ„ï¼Œé‡‡ç”¨é¥¿æ±‰æ–¹å¼åˆå§‹åŒ–è€—æ—¶ï¼Œä¼šå¯¼è‡´ç¨‹åºåŠ è½½æ—¶é—´æ¯”è¾ƒé•¿ã€‚
æ‡’æ±‰æ–¹å¼    æ‡’æ±‰æ–¹å¼æŒ‡å…¨å±€çš„å•ä¾‹å®ä¾‹åœ¨ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ—¶åˆ›å»ºã€‚
å·¥ç¨‹é¡¹ç›®ä¸­ï¼Œæ‡’æ±‰æ–¹å¼ä½¿ç”¨çš„é¢‘ç‡è¦æ›´å¤šä¸€äº›ã€‚ä½†å®ƒçš„ç¼ºç‚¹æ˜¯éå¹¶å‘å®‰å…¨ï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶éœ€è¦åŠ é”ã€‚
é¥¿æ±‰æ–¹å¼ VS æ‡’æ±‰æ–¹å¼        è‡ªåŠ¨åˆå§‹åŒ– æ˜¯å¦éœ€è¦åŠ é” å¤šçº¿ç¨‹å®‰å…¨ å®ç°éš¾åº¦     é¥¿æ±‰æ–¹å¼ æ˜¯ å¦ æ˜¯ æ˜“   æ‡’æ±‰æ–¹å¼ å¦ æ˜¯ æ˜¯ ä¸­    Goæœ€ä½³å®è·µ    é¥¿æ±‰æ–¹å¼    package singleton type singleton struct { } var ins *singleton = &amp;amp;singleton{} func GetInsOr() *singleton { return ins } func init() { GetInsOr() } æ‡’æ±‰æ–¹å¼    type Singleton struct { data string } var ins *Singleton var once sync.</description>
    </item>
    
    <item>
      <title>Go &amp; Pythonï½œå·¥å‚æ¨¡å¼</title>
      <link>https://xblzbjs.cn/posts/design-patterns/go-python%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Sat, 20 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/posts/design-patterns/go-python%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Go &amp; Pythonï½œç»“æ„å‹è®¾è®¡æ¨¡å¼</title>
      <link>https://xblzbjs.cn/posts/design-patterns/go-python%E7%BB%93%E6%9E%84%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Sat, 20 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/posts/design-patterns/go-python%E7%BB%93%E6%9E%84%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</guid>
      <description>ç»“æ„å‹æ¨¡å¼    å¸¸è§çš„ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼š
 å·¥å‚æ¨¡å¼ï¼ˆFactoryï¼‰ï¼šè§£å†³å¯¹è±¡åˆ›å»ºé—®é¢˜ æ„é€ æ¨¡å¼ï¼ˆBuilderï¼‰ï¼šæ§åˆ¶å¤æ‚å¯¹è±¡çš„åˆ›å»º åŸå‹æ¨¡å¼ï¼ˆPrototypeï¼‰ï¼šé€šè¿‡åŸå‹çš„å…‹éš†åˆ›å»ºæ–°çš„å®ä¾‹ å•ä¾‹ï¼ˆBorg/Singletonï¼‰ï¼šä¸€ä¸ªç±»åªèƒ½åˆ›å»ºåŒä¸€ä¸ªå¯¹è±¡ å¯¹è±¡æ± æ¨¡å¼ï¼ˆPoolï¼‰ï¼šé¢„å…ˆåˆ†é…åŒä¸€ç±»å‹çš„ä¸€ç»„å®ä¾‹ æƒ°æ€§è®¡ç®—æ¨¡å¼ï¼ˆLazy Evaluationï¼‰ï¼šå»¶è¿Ÿè®¡ç®—ï¼ˆpythonçš„propertyï¼‰  è£…é¥°å™¨æ¨¡å¼    ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼ˆDecoratorï¼‰
 Pythonä¸­ä¸€åˆ‡çš†å¯¹è±¡ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥å½“ä½œå‚æ•°ä¼ é€’ è£…é¥°å™¨æ˜¯æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ·»åŠ åŠŸèƒ½åè¿”å›ä¸€ä¸ªæ–°å‡½æ•°çš„å‡½æ•°ï¼ˆç±»ï¼‰ é€šè¿‡@ä½¿ç”¨è£…é¥°å™¨  import time def log_time(func): # æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•° def _log(*args, **kwargs): beg = time.time() res = func(*args, **kwargs) print(&amp;#39;use time:{}&amp;#39;.format(time.time()-beg)) return res return _log @log_time # @:è£…é¥°å™¨è¯­æ³•ç³– def mysleep(): time.sleep(1) newsleep = log_time(mysleep) # ç­‰ä»·äºmysleep() newsleep() mysleep() import time # è£…é¥°å™¨ç±»å®ç° class LogTime: def __init__(self, use_int=False): self.use_int = use_int # å¢åŠ å‚æ•° def __call__(self,func): def _log(*args, **kwargs): beg = time.</description>
    </item>
    
    <item>
      <title>Go &amp; Pythonï½œè¡Œä¸ºå‹è®¾è®¡æ¨¡å¼</title>
      <link>https://xblzbjs.cn/posts/design-patterns/go-python%E8%A1%8C%E4%B8%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</link>
      <pubDate>Sat, 20 Mar 2021 00:00:00 +0000</pubDate>
      
      <guid>https://xblzbjs.cn/posts/design-patterns/go-python%E8%A1%8C%E4%B8%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</guid>
      <description>å¸¸è§å­¦ä¹ è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼     è¿­ä»£å™¨æ¨¡å¼ï¼ˆIteratorï¼‰ï¼šé€šè¿‡ç»Ÿä¸€çš„æ¥å£è¿­ä»£å¯¹è±¡ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserverï¼‰ï¼šå¯¹è±¡å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œè§‚å¯Ÿè€…æ‰§è¡Œç›¸åº”åŠ¨ä½œ ç­–ç•¥æ¨¡å¼ï¼ˆStrategyï¼‰ï¼šé’ˆå¯¹ä¸åŒè§„æ¨¡è¾“å…¥ä½¿ç”¨ä¸åŒçš„ç­–ç•¥  è¿­ä»£å™¨æ¨¡å¼     Pythonå†…ç½®å¯¹è¿­ä»£å™¨æ¨¡å¼çš„æ”¯æŒ å¯ç”¨foréå†å„ç§Iterableçš„æ•°æ®ç±»å‹ å¯ä»¥å®ç°__next__å’Œ__iter__å®ç°è¿­ä»£å™¨  class Stack(object): # ä½¿ç”¨ç»„åˆçš„ä¾‹å­ def __init__(self): self._deque = deque() def push(self, value): return self._deque.append(value) def pop(self): return self._deque.pop() def empty(self): return len(self._deque) == 0 def __iter__(self): res = [] for i in self._deque: res.append(i) for i in reversed(res): yield i s = Stack() s.push(1) s.push(2) for i in s: print(i) è§‚å¯Ÿè€…æ¨¡å¼     å‘å¸ƒè®¢é˜…æ˜¯ä¸€ç§æœ€å¸¸ç”¨çš„å®ç°æ–¹å¼ å‘å¸ƒè®¢é˜…ç”¨äºè§£è€¦é€»è¾‘ å¯ä»¥é€šè¿‡å›è°ƒç­‰æ–¹å¼å®ç°ï¼Œå½“å‘ç”Ÿäº‹ä»¶ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°  ==TODOï¼šä»£ç å®ç°==</description>
    </item>
    
  </channel>
</rss>
